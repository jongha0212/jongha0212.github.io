---
title: "Tanzu Kubernetes Grid 1.5.2"
date: 2022-04-13
categories: [Tanzu]
tags: [Tanzu, TKG, Kubernetes]
description: Tanzu Kubernetes Grid 1.5.2
toc: true
published: false
---

# Tanzu Kubernetes Grid 1.5.2 on vSphere

Caution: VMware recommends not installing or upgrading to TKG v1.5 until a future patch release, due to a bug in the versions of etcd in the versions of Kubernetes used by Tanzu Kubernetes Grid v1.5.0-v1.5.2. See [Known Issues](https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid/1.5/rn/vmware-tanzu-kubernetes-grid-15-release-notes/index.html#known-issues) in the TKG v1.5 Release Notes.


## 설치 가이드
* vSphere 7.0 & Ubuntu 20.04 기준 작성

### Download and Unpack the Tanzu CLI and kubectl
1. Go to [https://my.vmware.com](https://my.vmware.com) and log in with your My VMware credentials.

1. Visit [the Tanzu Kubernetes Grid downloads page](https://customerconnect.vmware.com/en/downloads/info/slug/infrastructure_operations_management/vmware_tanzu_kubernetes_grid/1_x)

1. In the VMware Tanzu Kubernetes Grid row, click Go to Downloads.

1. In the Select Version drop-down, select 1.5.2.

1. Under Product Downloads, scroll to the section labeled VMware Tanzu CLI 1.5.2 CLI.
  * For Linux, locate VMware Tanzu CLI for Linux and click Download Now.

1. Navigate to the Kubectl 1.22.5 for VMware Tanzu Kubernetes Grid 1.5.2 section of the download page.
  * For Linux, locate kubectl cluster cli v1.22.5 for Linux and click Download Now.

1. (Optional) Verify that your downloaded files are unaltered from the original. VMware provides a SHA-1, a SHA-256, and an MD5 checksum for each download. To obtain these checksums, click Read More under the entry that you want to download. For more information, see Using Cryptographic Hashes.

1. On your system, create a new directory named tanzu. If you previously unpacked artifacts for previous releases to this folder, delete the folder’s existing contents.

1. In the tanzu folder, unpack the Tanzu CLI bundle file for your operating system. To unpack the bundle file, use the extraction tool of your choice. For example, the tar -xvf command.
  * For Linux, unpack tanzu-cli-bundle-linux-amd64.tar.
  * After you unpack the bundle file, in your tanzu folder, you will see a cli folder with multiple subfolders and files.
1. Unpack the kubectl binary for your operating system:
  * For Linux, unpack kubectl-linux-v1.22.5+vmware.1.gz.  

### Install th Tanzu and Other Tools

1. **tanzu/cli** 이동
1. 시스템에서 CLI 사용
  * binary를 **/usr/local/bin** 위치에 설치

        ```console        
        $ sudo install core/v1.3.1/tanzu-core-linux_amd64 /usr/local/bin/tanzu
        ```
        * e.g.

            ```console
            [ubuntu@tkg-jumpbox /app/tkg/cli]$
             $ sudo install core/v0.11.2/tanzu-core-linux_amd64 /usr/local/bin/tanzu
            [sudo] ubuntu의 암호:
            [ubuntu@tkg-jumpbox /app/tkg/cli]$
            ```
1. initialize the Tanzu CLI

    ```console
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
     $ tanzu init
    Checking for required plugins...
    All required plugins are already installed and up-to-date
    ✔  successfully initialized CLI
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
    ```
1. Tanzu Kubernetes Grid v1.5.2는 Tanzu Framework v0.11.2를 사용

    ```console
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
     $ tanzu version
    version: v0.11.2
    buildDate: 2022-03-17
    sha: 9f16f375
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
    ```

### Install the Tanzu CLI Plugin

Tanzu Kubernetes 클러스터 관리 및 기능 작업과 관련된 CLI 플러그인을 설치

1. 기존 플러그인 제거

    ```console
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
     $ tanzu plugin clean
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
    ```
1. cli 디렉토리로 이동

1. tanzu 디렉토리에서 다음 명령을 실행하여 모든 플러그인을 설치

    ```console
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
     $ tanzu plugin sync
    Checking for required plugins...
    Installing plugin 'login:v0.11.2'
    Installing plugin 'management-cluster:v0.11.2'
    Installing plugin 'package:v0.11.2'
    Installing plugin 'pinniped-auth:v0.11.2'
    Installing plugin 'secret:v0.11.2'
    Successfully installed all required plugins
    ✔  Done
    [ubuntu@tkg-jumpbox /app/tkg/cli]$    
    ```
1. 설치된 플로그인 확인

    ```console
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
     $ tanzu plugin list
      NAME                DESCRIPTION                                                        SCOPE       DISCOVERY      VERSION  STATUS     
      login               Login to the platform                                              Standalone  default        v0.11.2  installed  
      management-cluster  Kubernetes management-cluster operations                           Standalone  default        v0.11.2  installed  
      package             Tanzu package management                                           Standalone  default        v0.11.2  installed  
      pinniped-auth       Pinniped authentication operations (usually not directly invoked)  Standalone  default        v0.11.2  installed  
      secret              Tanzu secret management                                            Standalone  default        v0.11.2  installed  
    [ubuntu@tkg-jumpbox /app/tkg/cli]$
    ```

### Install kubectl
